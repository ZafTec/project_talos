---
---

<div class="relative hidden lg:block">
  <div class="relative w-full h-[500px]" id="hero-container">
    <!-- Background glow rings -->
    <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[400px] h-[400px]">
      <div class="absolute inset-0 border-2 border-olive-leaf-300/30 dark:border-olive-leaf-700/30 rounded-full"></div>
      <div class="absolute inset-4 border-2 border-olive-leaf-300/20 dark:border-olive-leaf-700/20 rounded-full"></div>
      <div class="absolute inset-8 border-2 border-olive-leaf-300/10 dark:border-olive-leaf-700/10 rounded-full"></div>
    </div>

    <!-- Main Shield -->
    <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2">
      <div class="relative w-56 h-56">
        <!-- Glow effect -->
        <div class="absolute inset-0 bg-gradient-to-br from-olive-leaf-500 to-olive-leaf-700 rounded-3xl blur-2xl opacity-30"></div>
        
        <!-- Main shield body -->
        <div class="absolute inset-0 bg-gradient-to-br from-olive-leaf-400 to-olive-leaf-600 rounded-3xl flex items-center justify-center shadow-2xl">
          <svg class="h-28 w-28 text-white" fill="none" viewBox="0 0 24 24" stroke-width="1" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z" />
          </svg>
        </div>
        
        <!-- Shine effect -->
        <div class="absolute inset-0 rounded-3xl bg-gradient-to-br from-white/20 to-transparent pointer-events-none"></div>
      </div>
    </div>

    <!-- JWT Card -->
    <div class="magnet-card absolute top-4 right-4 bg-white dark:bg-black-forest-800 rounded-2xl p-4 shadow-lg border border-black-forest-100 dark:border-black-forest-700 will-change-transform">
      <div class="flex items-center gap-3">
        <div class="h-10 w-10 rounded-xl bg-olive-leaf-100 dark:bg-olive-leaf-900/30 flex items-center justify-center">
          <svg class="h-6 w-6 text-olive-leaf-600" viewBox="0 0 90 90" fill="currentColor" preserveAspectRatio="xMidYMid meet">
            <path d="M79.191 90.023c-.78 0-1.526-.307-2.084-.865l-8.425-8.424c-.624-.626-.934-1.487-.851-2.365l.401-4.212-2.609.508c-.879.157-1.779-.088-2.457-.678-.677-.589-1.047-1.441-1.013-2.338l.161-4.256-4.619.688c-.914.132-1.848-.183-2.5-.836l-4.44-4.439c-.708-.71-1.007-1.717-.801-2.694l.839-4.011-3.977.875c-.981.207-1.985-.094-2.692-.801l-3.29-3.29c-10.721 5.331-23.895 3.233-32.41-5.283-10.966-10.966-10.966-28.81 0-39.776 10.965-10.966 28.81-10.966 39.776 0 8.246 8.247 10.512 20.702 5.797 31.303l35.339 35.338c.557.557.864 1.298.864 2.087v9.641c0 1.509-1.132 2.771-2.632 2.934l-8.055.875c-.133.014-.241.02-.348.02zm-10.92-18.815c.734 0 1.438.273 1.991.782.684.631 1.026 1.524.937 2.45l-.401 4.21 8.416 8.399 8.004-.881v-9.614L50.397 39.747l.47-.957c4.743-9.66 2.824-21.255-4.774-28.854-9.804-9.804-25.757-9.803-35.56 0-9.804 9.804-9.804 25.756 0 35.56 7.849 7.849 20.129 9.598 29.865 4.257l.98-.539 4.855 4.854 3.985-.847c.979-.208 1.985.094 2.691.801.707.707 1.007 1.713.803 2.691l-.839 4.014 4.431 4.412 4.628-.666c.87-.123 1.739.144 2.39.732.65.586 1.005 1.426.972 2.301l-.161 4.256 2.609-.505c.153-.03.331-.046.506-.046zM22.452 27.983c-2.142 0-4.284-.816-5.914-2.446-3.261-3.261-3.261-8.567 0-11.828 3.261-3.26 8.567-3.26 11.828 0 3.261 3.261 3.261 8.567 0 11.828-1.63 1.63-3.772 2.446-5.914 2.446zm0-13.74c-1.379 0-2.757.525-3.806 1.574-2.099 2.099-2.099 5.514 0 7.612 2.099 2.098 5.512 2.099 7.612 0 2.099-2.099 2.099-5.514 0-7.612-1.049-1.049-2.427-1.574-3.806-1.574z"/>
          </svg>
        </div>
        <div>
          <div class="text-xs text-black-forest-500 dark:text-black-forest-400">RS256 Signed</div>
          <div class="text-sm font-bold text-black-forest-900 dark:text-cornsilk-50">JWT Tokens</div>
        </div>
      </div>
    </div>

    <!-- OAuth Card -->
    <div class="magnet-card absolute bottom-16 left-0 bg-white dark:bg-black-forest-800 rounded-2xl p-4 shadow-lg border border-black-forest-100 dark:border-black-forest-700 will-change-transform">
      <div class="flex items-center gap-3">
        <div class="h-10 w-10 rounded-xl bg-sunlit-clay-100 dark:bg-sunlit-clay-900/30 flex items-center justify-center">
          <svg class="h-5 w-5 text-sunlit-clay-600" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z" />
          </svg>
        </div>
        <div>
          <div class="text-xs text-black-forest-500 dark:text-black-forest-400">OAuth 2.0 + PKCE</div>
          <div class="text-sm font-bold text-black-forest-900 dark:text-cornsilk-50">Social Login</div>
        </div>
      </div>
    </div>

    <!-- Execution Card -->
    <div class="magnet-card absolute bottom-4 right-8 bg-white dark:bg-black-forest-800 rounded-2xl p-4 shadow-lg border border-black-forest-100 dark:border-black-forest-700 will-change-transform">
      <div class="flex items-center gap-3">
        <div class="h-10 w-10 rounded-xl bg-copperwood-100 dark:bg-copperwood-900/30 flex items-center justify-center">
          <svg class="h-5 w-5 text-copperwood-600" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" d="M17.25 6.75L22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3l-4.5 16.5" />
          </svg>
        </div>
        <div>
          <div class="text-xs text-black-forest-500 dark:text-black-forest-400">Docker Sandbox</div>
          <div class="text-sm font-bold text-black-forest-900 dark:text-cornsilk-50">Execution Engine</div>
        </div>
      </div>
    </div>

    <!-- Coming Soon Card -->
    <div class="magnet-card absolute top-0 left-8 bg-white dark:bg-black-forest-800 rounded-2xl p-4 shadow-lg border border-black-forest-100 dark:border-black-forest-700 will-change-transform">
      <div class="flex items-center gap-3">
        <div class="h-10 w-10 rounded-xl bg-black-forest-100 dark:bg-black-forest-700 flex items-center justify-center">
          <span class="flex h-2.5 w-2.5 relative">
            <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-olive-leaf-400 opacity-75"></span>
            <span class="relative inline-flex rounded-full h-2.5 w-2.5 bg-olive-leaf-500"></span>
          </span>
        </div>
        <div>
          <div class="text-xs text-black-forest-500 dark:text-black-forest-400">v1.0 Launching</div>
          <div class="text-sm font-bold text-black-forest-900 dark:text-cornsilk-50">Q2 2026</div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  const container = document.getElementById('hero-container');
  const cards = document.querySelectorAll('.magnet-card');

  if (container && cards.length > 0) {
    let mouseX = 0;
    let mouseY = 0;
    let isHovering = false;
    
    // Store current and target positions for smooth interpolation
    const cardData = Array.from(cards).map(() => ({
      currentX: 0,
      currentY: 0,
      targetX: 0,
      targetY: 0
    }));

    // Update mouse coordinates
    window.addEventListener('mousemove', (e) => {
      mouseX = e.clientX;
      mouseY = e.clientY;
      isHovering = true;
    });

    window.addEventListener('mouseleave', () => {
      isHovering = false;
    });

    // Animation loop using requestAnimationFrame
    function animate() {
      cards.forEach((card, index) => {
        const data = cardData[index];
        const htmlCard = card as HTMLElement;
        
        if (isHovering) {
          const rect = htmlCard.getBoundingClientRect();
          // We need the center position WITHOUT the current transform
          // Subtracting currentX/currentY from the rect position approximates the base position
          const cardBaseCenterX = rect.left - data.currentX + rect.width / 2;
          const cardBaseCenterY = rect.top - data.currentY + rect.height / 2;

          const distanceX = mouseX - cardBaseCenterX;
          const distanceY = mouseY - cardBaseCenterY;
          const distance = Math.sqrt(distanceX * distanceX + distanceY * distanceY);

          const maxDistance = 600; // Interaction radius

          if (distance < maxDistance) {
            // Calculate attraction strength (closer = stronger)
            // Use a smooth easing curve
            const factor = Math.pow(1 - distance / maxDistance, 2);
            const strength = 40; // Max pixels to move
            
            data.targetX = (distanceX / distance) * strength * factor;
            data.targetY = (distanceY / distance) * strength * factor;
          } else {
            data.targetX = 0;
            data.targetY = 0;
          }
        } else {
          data.targetX = 0;
          data.targetY = 0;
        }

        // Apply Linear Interpolation (Lerp) for smoothness
        // 0.1 is the smoothing factor (lower = smoother/slower)
        data.currentX += (data.targetX - data.currentX) * 0.1;
        data.currentY += (data.targetY - data.currentY) * 0.1;

        // Apply transform
        htmlCard.style.transform = `translate(${data.currentX}px, ${data.currentY}px)`;
      });

      requestAnimationFrame(animate);
    }

    // Start the animation loop
    animate();
  }
</script>
